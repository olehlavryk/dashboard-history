(this["webpackJsonpstarnavi-test"]=this["webpackJsonpstarnavi-test"]||[]).push([[0],{53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),s=c(6),o=c.n(s),i=c(2),u="setData",j="setMode",l="setStatus",b="addToHistory",d="resetProcess",O=c(20),h=c.n(O),f=function(){return h.a.get("https://demo1030918.mockable.io/").then((function(e){return e.data}))},m=function(){return function(e){return f().then((function(t){e({type:"fetchDataSuccess"}),e(function(e){return{type:u,payload:{data:e}}}(t))})).catch((function(){return e({type:"fetchDataFail"})}))}},p=function(e){return e.modes},x=function(e){return e.mode},v=function(e){return e.status},y=function(e){return e.history},_=(c(53),function(){var e=Object(i.b)(),t=Object(i.c)(p),c=Object(i.c)(x),r=Object(i.c)(v),s=Object(a.useCallback)((function(t){e(function(e){return{type:j,payload:{mode:e}}}(t.target.value))}),[e]),o=Object(a.useCallback)((function(t){t&&t.preventDefault(),e(function(e){return{type:l,payload:{status:e}}}(!r))}),[e,r]),u=Object(a.useCallback)((function(t){t&&t.preventDefault(),e({type:d,payload:{}})}),[e]),b=Object(a.useCallback)((function(e){for(var t=[],c=0,a=Object.entries(e);c<a.length;c++){var r=a[c],s=r[0].replace(/([A-Z])/g," $1").trim().toLowerCase();s=s.charAt(0).toUpperCase()+s.slice(1),t.push(Object(n.jsx)("option",{value:r[1].field,children:s},r[1].field))}return t}),[]);return Object(n.jsx)("header",{className:"header",children:Object(n.jsxs)("form",{className:"game__form",children:[Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{onChange:s,value:c,className:"game__form__select",children:[Object(n.jsx)("option",{value:"",defaultValue:!0,disabled:!0,children:"Pick mode"}),b(t)]})}),r?Object(n.jsx)("button",{onClick:u,className:"button button__danger game__button__select",disabled:!c,children:"Stop"}):Object(n.jsx)("button",{onClick:o,className:"button button__primary game__button__select",disabled:!c,children:"Start"})]})})}),N=Object(a.memo)(_),g=function(e){var t=e.x,c=e.y,r=Object(i.b)(),s=Object(a.useCallback)((function(){var e;r((e="row ".concat(t," col ").concat(c),{type:b,payload:{text:e}}))}),[r]);return Object(n.jsx)("td",{onMouseEnter:s})},k=Object(a.memo)(g),C=(c(54),function(){var e=Object(i.c)(x),t=Object(i.c)(v),c=Object(a.useCallback)((function(e){var t=[];if(e)for(var c=0;c<e;c++){for(var a=[],r=0;r<e;r++)a.push(Object(n.jsx)(k,{x:c+1,y:r+1},r));t.push(Object(n.jsx)("tr",{children:a},c))}return t}),[]);return Object(n.jsxs)("main",{className:"field__wrap",children:[Object(n.jsx)(N,{}),t&&Object(n.jsx)("table",{className:"squares__table",children:Object(n.jsx)("tbody",{children:c(e)})})]})}),w=Object(a.memo)(C),S=(c(55),function(){var e=Object(i.c)(y);return 0===e.length?Object(n.jsxs)("aside",{className:"history",children:[Object(n.jsx)("h2",{children:"History"}),Object(n.jsx)("small",{children:"No history yet!"})]}):Object(n.jsxs)("aside",{className:"history",children:[Object(n.jsx)("h2",{children:"History"}),Object(n.jsx)("ul",{className:"history__list",children:e.slice(0).reverse().map((function(e,t){return Object(n.jsx)("li",{children:Object(n.jsx)("div",{className:"history__alert",children:e})},t)}))})]})}),D=Object(a.memo)(S),M=(c(56),function(){var e=Object(i.b)(),t=Object(i.c)(p);return Object(a.useEffect)((function(){t||e(m())}),[e,t]),t?Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{children:"StarNavi test task"}),Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(w,{}),Object(n.jsx)(D,{})]})]}):Object(n.jsx)("div",{children:"Loading ..."})}),E=Object(a.memo)(M),H=function(e){var t=e.store;return Object(n.jsx)(i.a,{store:t,children:Object(n.jsx)(E,{})})},A=Object(a.memo)(H),J=c(21),L=c(5),P=c(22),T=c(23),q=c(4),B={modes:null,mode:"",status:!1,history:[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case d:return Object(q.a)(Object(q.a)({},e),{},{mode:"",status:!1,history:[]});case u:var a=n.data;return Object(q.a)(Object(q.a)({},e),{},{modes:a});case j:var r=n.mode;return Object(q.a)(Object(q.a)({},e),{},{mode:r,history:[]});case l:var s=n.status;return Object(q.a)(Object(q.a)({},e),{},{status:s});case b:var o=n.text,i=[].concat(Object(T.a)(e.history),[o]);return Object(q.a)(Object(q.a)({},e),{},{history:i});default:return e}},I=Object(L.createStore)(F,Object(P.composeWithDevTools)(Object(L.applyMiddleware)(J.a,(function(){return function(e){return function(t){return e(t)}}}))));o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(A,{store:I})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.7ca0a956.chunk.js.map